```mermaid
graph TD
    subgraph "Клиент (Пользователь)"
        A[Пользователь Telegram]
    end

    subgraph "Фронтенд"
        B[Telegram Bot]
    end

    subgraph "Бэкенд"
        C[API-сервер]
    end

    subgraph "Очереди сообщений"
        J[(брокер)]
    end

    subgraph "Фоновые задачи"
        F[Воркеры <br><i>Бизнес-логика: парсинг файла и сохранение данных в БД, qa</i>]
    end

    subgraph "Хранилища"
        G[(Реляционная БД <br><i>метаданные и структура дерева</i>)]
        I[(Векторная БД <br><i>векторный поиск и эмбеддинги базы знаний</i>)]
    end

    subgraph "Внешние сервисы"
        H{{LLM API <br><i>GigaChat</i>}}
    end

    %% Связи между компонентами
    A -- Сообщения --> B
    B -- HTTP/S запросы --> C
    C -- Ставит задачи --> J
    J -- Передаёт задачи --> F
    F -- Отправляет Промпт с контекстом, ролью и вопросом к LLM по API --> H
    F -- Читает/пишет --> G
    F -- Читает/пишет --> I
    F -- Отправляет результат --> B
```
